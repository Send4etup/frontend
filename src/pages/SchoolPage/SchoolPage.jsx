// src/pages/SchoolPage/SchoolPage.jsx
import React, { useState } from 'react';
import { motion } from 'framer-motion';
import { useNavigate } from 'react-router-dom';
import {
    BookOpen, Brain, FileText, Camera,
    PenTool, CheckSquare, HelpCircle, ChevronRight
} from 'lucide-react';
import ToolCard from '../../components/ToolCard/ToolCard';
import { testsData } from '../../data/testData';
import { pageTransition, itemAnimation } from '../../utils/animations';
import './SchoolPage.css';

const SchoolPage = () => {
    const navigate = useNavigate();
    const [activeTab, setActiveTab] = useState('instruments');
    const [selectedSubject, setSelectedSubject] = useState('all');

    const tools = [
        {
            id: 1,
            icon: BookOpen,
            title: '–û–±—ä—è—Å–Ω–∏—Ç—å —Ç–µ–º—É',
            subtitle: '–†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Å–ª–æ–∂–Ω–æ–π —Ç–µ–º–µ',
            action: 'explain_topic',
            type: 'explain',
            description: `üéì **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ–º –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏**

–ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –ª—é–±–æ–π —É—á–µ–±–Ω–æ–π —Ç–µ–º–µ. –í–æ—Ç —á—Ç–æ —è —É–º–µ—é:

üìö **–ß—Ç–æ —è –¥–µ–ª–∞—é:**
‚Ä¢ –û–±—ä—è—Å–Ω—è—é —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º
‚Ä¢ –ü—Ä–∏–≤–æ–∂—É –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –∂–∏–∑–Ω–∏ –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è  
‚Ä¢ –†–∞–∑–±–∏—Ä–∞—é —Ç–µ–º—É –ø–æ —à–∞–≥–∞–º, –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ –∫ —Å–ª–æ–∂–Ω–æ–º—É
‚Ä¢ –û—Ç–≤–µ—á–∞—é –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ç–µ–º–µ

üî• **–ú–æ–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
‚Ä¢ –†–∞–±–æ—Ç–∞—é —Å –ª—é–±—ã–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ (–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞, —Ñ–∏–∑–∏–∫–∞, —Ö–∏–º–∏—è, –±–∏–æ–ª–æ–≥–∏—è, –∏—Å—Ç–æ—Ä–∏—è –∏ —Ç.–¥.)
‚Ä¢ –ê–¥–∞–ø—Ç–∏—Ä—É—é –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–æ–¥ —Ç–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –∑–Ω–∞–Ω–∏–π
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É—é —Å—Ö–µ–º—ã, —Ç–∞–±–ª–∏—Ü—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
‚Ä¢ –ü–æ–º–æ–≥–∞—é –∑–∞–ø–æ–º–Ω–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª —Å –ø–æ–º–æ—â—å—é –º–Ω–µ–º–æ—Ç–µ—Ö–Ω–∏–∫

**–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –º–Ω–µ —Ç–µ–º—É, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å, –∏ —è –æ–±—ä—è—Å–Ω—é –µ—ë —Ç–∞–∫, —á—Ç–æ –≤—Å—ë —Å—Ç–∞–Ω–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ! üöÄ**`
        },
        {
            id: 2,
            icon: Brain,
            title: '–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –∫—Ä/—ç–∫–∑–∞–º–µ–Ω—É',
            subtitle: '–í—ã–±–∏—Ä–∞–π —Ç–µ–º—É –∏ –ø–æ—à–ª–∏ —Ä–µ—à–∞—Ç—å',
            action: 'exam_prep',
            type: 'exam',
            description: `üéØ **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º –∏ —ç–∫–∑–∞–º–µ–Ω–∞–º**

–ì–æ—Ç–æ–≤–ª—é—Å—å –ø–æ–º–æ—á—å —Ç–µ–±–µ —É—Å–ø–µ—à–Ω–æ —Å–¥–∞—Ç—å –ª—é–±—É—é –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é –∏–ª–∏ —ç–∫–∑–∞–º–µ–Ω!

üìã **–ß—Ç–æ —è –¥–µ–ª–∞—é:**
‚Ä¢ –°–æ—Å—Ç–∞–≤–ª—è—é –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
‚Ä¢ –û–±—ä—è—Å–Ω—è—é –≤—Å–µ —Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–µ
‚Ä¢ –î–∞—é –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∏
‚Ä¢ –ü—Ä–æ–≤–æ–∂—É –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä—è—é –∑–Ω–∞–Ω–∏—è

üí™ **–ú–µ—Ç–æ–¥—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:**
‚Ä¢ –†–∞–∑–±–æ—Ä —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–π
‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ —à–ø–∞—Ä–≥–∞–ª–æ–∫ –∏ –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è
‚Ä¢ –†–∞–±–æ—Ç–∞ —Å –±–∏–ª–µ—Ç–∞–º–∏ –∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –ø—Ä–æ—à–ª—ã—Ö –ª–µ—Ç
‚Ä¢ –¢–µ—Ö–Ω–∏–∫–∏ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ —Å–Ω—è—Ç–∏—è —Å—Ç—Ä–µ—Å—Å–∞ –ø–µ—Ä–µ–¥ —ç–∫–∑–∞–º–µ–Ω–æ–º

üèÜ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
‚Ä¢ –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–≤–æ–∏—Ö –∑–Ω–∞–Ω–∏—è—Ö
‚Ä¢ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ª—é–±—ã–º –≤–æ–ø—Ä–æ—Å–∞–º
‚Ä¢ –í—ã—Å–æ–∫–∏–µ –æ—Ü–µ–Ω–∫–∏

**–°–∫–∞–∂–∏, –∫ –∫–∞–∫–æ–º—É —ç–∫–∑–∞–º–µ–Ω—É –≥–æ—Ç–æ–≤–∏—à—å—Å—è, –∏ –º—ã —Å–æ—Å—Ç–∞–≤–∏–º –ø–ª–∞–Ω –ø–æ–±–µ–¥—ã! üíØ**`
        },
        {
            id: 3,
            icon: FileText,
            title: '–°–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Å–ø–µ–∫—Ç',
            subtitle: '–ü—Ä–∏—Å—ã–ª–∞–π —Ñ–∞–π–ª, —Ç–µ–∫—Å—Ç. –°–æ–∫—Ä–∞—Ç–∏–º',
            action: 'make_notes',
            type: 'notes',
            description: `üìù **–°–æ–∑–¥–∞–Ω–∏–µ –∏–¥–µ–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤**

–ü—Ä–µ–≤—Ä–∞—â–∞—é –ª—é–±–æ–π –º–∞—Ç–µ—Ä–∏–∞–ª –≤ —É–¥–æ–±–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç!

üìÑ **–° —á–µ–º —Ä–∞–±–æ—Ç–∞—é:**
‚Ä¢ –£—á–µ–±–Ω–∏–∫–∏ –∏ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã
‚Ä¢ –õ–µ–∫—Ü–∏–∏ –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏  
‚Ä¢ –°—Ç–∞—Ç—å–∏ –∏ –Ω–∞—É—á–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
‚Ä¢ –í–∏–¥–µ–æ—É—Ä–æ–∫–∏ (–ø–æ —Å—Å—ã–ª–∫–µ –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏—é)

‚ú® **–ß—Ç–æ –ø–æ–ª—É—á–∏—à—å:**
‚Ä¢ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç —Å –≥–ª–∞–≤–Ω—ã–º–∏ –º—ã—Å–ª—è–º–∏
‚Ä¢ –í—ã–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
‚Ä¢ –°—Ö–µ–º—ã –∏ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏
‚Ä¢ –ö—Ä–∞—Ç–∫–∏–µ –≤—ã–≤–æ–¥—ã –ø–æ –∫–∞–∂–¥–æ–º—É —Ä–∞–∑–¥–µ–ª—É

üé® **–§–æ—Ä–º–∞—Ç—ã –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤:**
‚Ä¢ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π
‚Ä¢ –í –≤–∏–¥–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç-–∫–∞—Ä—Ç
‚Ä¢ –¢–∞–±–ª–∏—Ü—ã –∏ —Å—Ö–µ–º—ã
‚Ä¢ –í–æ–ø—Ä–æ—Å—ã-–æ—Ç–≤–µ—Ç—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

**–ü—Ä–∏—Å—ã–ª–∞–π –º–∞—Ç–µ—Ä–∏–∞–ª –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º - —Ç–µ–∫—Å—Ç–æ–º, —Ñ–∞–π–ª–æ–º –∏–ª–∏ —Å—Å—ã–ª–∫–æ–π, –∏ —è —Å–¥–µ–ª–∞—é –∏–∑ –Ω–µ–≥–æ –æ—Ç–ª–∏—á–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç! üìö**`
        },
        {
            id: 4,
            icon: Camera,
            title: '–†–∞–∑–±–æ—Ä –∑–∞–¥–∞–Ω–∏—è –ø–æ —Ñ–æ—Ç–æ',
            subtitle: '–ü—Ä–∏—Å—ã–ª–∞–π —Ñ–æ—Ç–æ/—Ç–µ–∫—Å—Ç/—Ñ–∞–π–ª. –†–µ—à–∏–º',
            action: 'photo_solve',
            type: 'photo',
            description: `üì∑ **–†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –ø–æ —Ñ–æ—Ç–æ**

–ü—Ä–æ—Å—Ç–æ —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π –∑–∞–¥–∞–Ω–∏–µ - –∏ —è –µ–≥–æ —Ä–µ—à—É —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º!

üì∏ **–ß—Ç–æ –º–æ–≥—É —Ä–µ—à–∏—Ç—å:**
‚Ä¢ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏ —É—Ä–∞–≤–Ω–µ–Ω–∏—è
‚Ä¢ –ó–∞–¥–∞—á–∏ –ø–æ —Ñ–∏–∑–∏–∫–µ, —Ö–∏–º–∏–∏, –±–∏–æ–ª–æ–≥–∏–∏
‚Ä¢ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ —Ä—É—Å—Å–∫–æ–º—É –∏ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ
‚Ä¢ –ó–∞–¥–∞–Ω–∏—è –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –æ–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏—é
‚Ä¢ –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è

üîç **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é:**
‚Ä¢ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ñ–æ—Ç–æ –∏ –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å
‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞—é –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ
‚Ä¢ –û–±—ä—è—Å–Ω—è—é –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø –∏ —Ñ–æ—Ä–º—É–ª—ã
‚Ä¢ –î–∞—é —Å–æ–≤–µ—Ç—ã, –∫–∞–∫ —Ä–µ—à–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ –∑–∞–¥–∞–Ω–∏—è

üí° **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—è—é –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —É–∂–µ —Ä–µ—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
‚Ä¢ –ü–æ–º–æ–≥–∞—é –Ω–∞–π—Ç–∏ –æ—à–∏–±–∫–∏ –≤ —Ä–µ—à–µ–Ω–∏–∏
‚Ä¢ –ü—Ä–µ–¥–ª–∞–≥–∞—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Ä–µ—à–µ–Ω–∏—è

**–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π –∑–∞–¥–∞–Ω–∏–µ –∏–ª–∏ –ø—Ä–∏—à–ª–∏ –µ–≥–æ —Ç–µ–∫—Å—Ç–æ–º - —Ä–µ—à–∏–º –≤–º–µ—Å—Ç–µ! üöÄ**`
        },
        {
            id: 5,
            icon: PenTool,
            title: '–ù–∞–ø–∏—Å–∞—Ç—å —Ä–∞–±–æ—Ç—É',
            subtitle: '–ù–∞–ø–∏—à–µ–º —Å–æ—á–∏–Ω–µ–Ω–∏–µ, —ç—Å—Å–µ –∏ —Ç–ø',
            action: 'write_work',
            type: 'write',
            description: `‚úçÔ∏è **–ù–∞–ø–∏—Å–∞–Ω–∏–µ –ø–∏—Å—å–º–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç**

–ü–æ–º–æ–≥–∞—é —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏!

üìù **–ß—Ç–æ –ø–∏—à—É:**
‚Ä¢ –°–æ—á–∏–Ω–µ–Ω–∏—è –ø–æ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–µ
‚Ä¢ –≠—Å—Å–µ –ø–æ –æ–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏—é –∏ –∏—Å—Ç–æ—Ä–∏–∏
‚Ä¢ –†–µ—Ñ–µ—Ä–∞—Ç—ã –∏ –¥–æ–∫–ª–∞–¥—ã
‚Ä¢ –ò–∑–ª–æ–∂–µ–Ω–∏—è –∏ —Å–æ—á–∏–Ω–µ–Ω–∏—è –ï–ì–≠
‚Ä¢ –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã

üéØ **–ú–æ–π –ø–æ–¥—Ö–æ–¥:**
‚Ä¢ –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é —Ç–µ–º—É –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
‚Ä¢ –°–æ—Å—Ç–∞–≤–ª—è—é —á—ë—Ç–∫–∏–π –ø–ª–∞–Ω —Ä–∞–±–æ—Ç—ã
‚Ä¢ –ü–æ–¥–±–∏—Ä–∞—é –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –ø—Ä–∏–º–µ—Ä—ã
‚Ä¢ –ü–∏—à—É —Ç–µ–∫—Å—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—è—é —Å—Ç–∏–ª—å –∏ –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å

üèÜ **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç:**
‚Ä¢ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –±–µ–∑ –ø–ª–∞–≥–∏–∞—Ç–∞
‚Ä¢ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
‚Ä¢ –õ–æ–≥–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å–≤—è–∑–Ω–æ—Å—Ç—å
‚Ä¢ –ë–æ–≥–∞—Ç–∞—è –ª–µ–∫—Å–∏–∫–∞ –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π

**–†–∞—Å—Å–∫–∞–∂–∏ —Ç–µ–º—É –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è - —Å–æ–∑–¥–∞–º –æ—Ç–ª–∏—á–Ω—É—é —Ä–∞–±–æ—Ç—É, –∫–æ—Ç–æ—Ä–∞—è —Ç–æ—á–Ω–æ –ø–æ–ª—É—á–∏—Ç –≤—ã—Å–æ–∫—É—é –æ—Ü–µ–Ω–∫—É! ‚≠ê**`
        },
        {
            id: 6,
            icon: CheckSquare,
            title: '–†–∞–∑–æ–±—Ä–∞—Ç—å –æ—à–∏–±–∫—É',
            subtitle: '–ü–æ—è—Å–Ω–∏–º. –ü–æ—Ä–µ—à–∞–µ–º –ø–æ–¥–æ–±–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è',
            action: 'analyze_mistake',
            type: 'mistake',
            description: `üîç **–†–∞–∑–±–æ—Ä –æ—à–∏–±–æ–∫ –∏ —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –Ω–∏–º–∏**

–ü—Ä–µ–≤—Ä–∞—â–∞—é –æ—à–∏–±–∫–∏ –≤ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è!

‚ùå **–ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é:**
‚Ä¢ –û—à–∏–±–∫–∏ –≤ —Ä–µ—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á
‚Ä¢ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≤ —Ç–µ—Å—Ç–∞—Ö
‚Ä¢ –ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ —Å—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
‚Ä¢ –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∏–∫–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π

üí° **–ö–∞–∫ –ø–æ–º–æ–≥–∞—é:**
‚Ä¢ –ù–∞—Ö–æ–∂—É —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏
‚Ä¢ –û–±—ä—è—Å–Ω—è—é –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ—à–∞–≥–æ–≤–æ
‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞—é, –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å —Ç–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –±—É–¥—É—â–µ–º
‚Ä¢ –î–∞—é –ø–æ—Ö–æ–∂–∏–µ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è

üéØ **–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã:**
‚Ä¢ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–≤–æ–µ–≥–æ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
‚Ä¢ –†–∞–∑–±–æ—Ä –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ —Ä–µ—à–µ–Ω–∏—è
‚Ä¢ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ç–µ–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç –Ω–µ –æ—à–∏–±–∞—Ç—å—Å—è
‚Ä¢ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö

üìà **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
‚Ä¢ –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å–≤–æ–∏—Ö —Å–ª–∞–±—ã—Ö –º–µ—Å—Ç
‚Ä¢ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –∑–Ω–∞–Ω–∏—è—Ö
‚Ä¢ –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ä–µ—à–µ–Ω–∏–∏ –ø–æ–¥–æ–±–Ω—ã—Ö –∑–∞–¥–∞—á

**–ü–æ–∫–∞–∂–∏ —Å–≤–æ—é –æ—à–∏–±–∫—É - —Ä–∞–∑–±–µ—Ä—ë–º –µ—ë –∏ –Ω–∞—É—á–∏–º—Å—è –¥–µ–ª–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ! üéì**`
        },
        {
            id: 7,
            icon: HelpCircle,
            title: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è',
            subtitle: '–ü–æ–º–æ–≥—É —Ç–µ–±–µ —Å –ª–∏—á–Ω–æ–π –∂–∏–∑–Ω—å, —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é',
            action: 'mood_support',
            type: 'support',
            description: `üíù **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –ø–æ–º–æ—â—å –≤ –ª–∏—á–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö**

–ó–¥–µ—Å—å –¥–ª—è —Ç–µ–±—è –Ω–µ —Ç–æ–ª—å–∫–æ –∫–∞–∫ —É—á–µ–±–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫, –Ω–æ –∏ –∫–∞–∫ –¥—Ä—É–≥!

ü§ó **–í —á—ë–º –ø–æ–º–æ–≥–∞—é:**
‚Ä¢ –°–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å–æ —Å—Ç—Ä–µ—Å—Å–æ–º –ø–µ—Ä–µ–¥ —ç–∫–∑–∞–º–µ–Ω–∞–º–∏
‚Ä¢ –ù–∞–π—Ç–∏ –º–æ—Ç–∏–≤–∞—Ü–∏—é –¥–ª—è —É—á—ë–±—ã
‚Ä¢ –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Å –¥—Ä—É–∑—å—è–º–∏/—Å–µ–º—å—ë–π
‚Ä¢ –ü—Ä–µ–æ–¥–æ–ª–µ—Ç—å –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Å–µ–±–µ
‚Ä¢ –ù–∞–π—Ç–∏ —Å–≤–æ—ë –ø—Ä–∏–∑–≤–∞–Ω–∏–µ –∏ —Ü–µ–ª–∏

üí™ **–ú–æ–∏ –º–µ—Ç–æ–¥—ã:**
‚Ä¢ –í—ã—Å–ª—É—à–∏–≤–∞—é –±–µ–∑ –æ—Å—É–∂–¥–µ–Ω–∏—è
‚Ä¢ –î–∞—é –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã
‚Ä¢ –ü–æ–º–æ–≥–∞—é –Ω–∞–π—Ç–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
‚Ä¢ –ú–æ—Ç–∏–≤–∏—Ä—É—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é
‚Ä¢ –ü—Ä–µ–¥–ª–∞–≥–∞—é —Ç–µ—Ö–Ω–∏–∫–∏ —Ä–µ–ª–∞–∫—Å–∞—Ü–∏–∏

üåü **–¢–µ–º—ã –¥–ª—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞:**
‚Ä¢ –ü—Ä–æ–±–ª–µ–º—ã –≤ —à–∫–æ–ª–µ –∏–ª–∏ –≤—É–∑–µ
‚Ä¢ –û—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏ –¥—Ä—É–∑—å—è–º–∏
‚Ä¢ –í—ã–±–æ—Ä –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –∏ –±—É–¥—É—â–µ–≥–æ
‚Ä¢ –°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
‚Ä¢ –ö–∞–∫ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏

**–ù–µ —Å—Ç–µ—Å–Ω—è–π—Å—è –¥–µ–ª–∏—Ç—å—Å—è - —è –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ç–µ–±—è! –í–º–µ—Å—Ç–µ –º—ã —Å–ø—Ä–∞–≤–∏–º—Å—è —Å –ª—é–±—ã–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—è–º–∏ üåà**`
        }
    ];

    const subjects = [
        { id: 'all', name: '–í—Å–µ' },
        { id: '–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞', name: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞' },
        { id: '—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', name: '–†—É—Å—Å–∫–∏–π' },
        { id: '—Ñ–∏–∑–∏–∫–∞', name: '–§–∏–∑–∏–∫–∞' },
        { id: '–±–∏–æ–ª–æ–≥–∏—è', name: '–ë–∏–æ–ª–æ–≥–∏—è' },
        { id: '—Ö–∏–º–∏—è', name: '–•–∏–º–∏—è' },
        { id: '–∏—Å—Ç–æ—Ä–∏—è', name: '–ò—Å—Ç–æ—Ä–∏—è' }
    ];

    const handleToolClick = async (tool) => {
        try {
            console.log('üéØ Mock: creating tool chat:', tool.action);

            // –ò–º–∏—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Ç–∞ (–≤–º–µ—Å—Ç–æ API)
            const mockChatId = `${tool.action}_${Date.now()}`;

            navigate(`/chat/${mockChatId}`, {
                state: {
                    chatType: tool.action,
                    toolConfig: tool,
                    initialMessage: `–ù–∞—á–∏–Ω–∞–µ–º —Ä–∞–±–æ—Ç—É: ${tool.title}`
                }
            });

        } catch (error) {
            console.error('Failed to create tool chat:', error);
            // Fallback –Ω–∞–≤–∏–≥–∞—Ü–∏—è
            navigate(`/chat/demo_${tool.id}`);
        }
    };


    const handleTestClick = (testId) => {
        navigate(`/test/${testId}`);
    };

    const getSubjectColor = (subject) => {
        switch(subject) {
            case '–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞': return '#ef4444';
            case '—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫': return '#22c55e';
            case '—Ñ–∏–∑–∏–∫–∞': return '#3b82f6';
            case '–±–∏–æ–ª–æ–≥–∏—è': return '#10b981';
            case '—Ö–∏–º–∏—è': return '#f59e0b';
            case '–∏—Å—Ç–æ—Ä–∏—è': return '#8b5cf6';
            default: return '#43ff65';
        }
    };

    const filteredTests = Object.values(testsData).filter(test => {
        if (selectedSubject === 'all') return true;
        return test.subject === selectedSubject;
    });

    return (
        <motion.div
            className="school-page"
            variants={pageTransition}
            initial="initial"
            animate="animate"
            exit="exit"
        >
            <div className="container">
                <motion.div
                    className="page-title"
                    variants={itemAnimation}
                >

                    <h1>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —É—á–µ–±—ã</h1>
                </motion.div>

                <motion.div
                    className="tab-switcher"
                    variants={itemAnimation}
                >
                    <motion.button
                        className={`tab-btn ${activeTab === 'instruments' ? 'active' : ''}`}
                        onClick={() => setActiveTab('instruments')}
                        whileHover={{ scale: 1.05 }}
                        whileTap={{ scale: 0.95 }}
                    >
                        –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
                    </motion.button>
                    <motion.button
                        className={`tab-btn ${activeTab === 'tests' ? 'active' : ''}`}
                        onClick={() => setActiveTab('tests')}
                        whileHover={{ scale: 1.05 }}
                        whileTap={{ scale: 0.95 }}
                    >
                        –¢–µ—Å—Ç—ã
                    </motion.button>
                </motion.div>

                <motion.div
                    className="tab-content"
                    variants={itemAnimation}
                >
                    {activeTab === 'instruments' ? (
                        <motion.div
                            className="tools-grid"
                            initial={{ opacity: 0 }}
                            animate={{ opacity: 1 }}
                            exit={{ opacity: 0 }}
                        >
                            {tools.map((tool, index) => (
                                <motion.div
                                    key={tool.id}
                                    initial={{ opacity: 0, y: 20 }}
                                    animate={{ opacity: 1, y: 0 }}
                                    transition={{ delay: index * 0.05 }}
                                >
                                    <ToolCard
                                        {...tool}
                                        onClick={() => handleToolClick(tool.action)}
                                        data-type={tool.type}
                                    />
                                </motion.div>
                            ))}
                        </motion.div>
                    ) : (
                        <motion.div
                            initial={{ opacity: 0 }}
                            animate={{ opacity: 1 }}
                            exit={{ opacity: 0 }}
                        >
                            {/* –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º */}
                            <motion.div
                                className="subjects-filter"
                                variants={itemAnimation}
                            >
                                <div className="subjects-scroll">
                                    {subjects.map((subject, index) => (
                                        <motion.button
                                            key={subject.id}
                                            className={`subject-chip ${selectedSubject === subject.id ? 'active' : ''}`}
                                            onClick={() => setSelectedSubject(subject.id)}
                                            initial={{ opacity: 0, x: 20 }}
                                            animate={{ opacity: 1, x: 0 }}
                                            transition={{ delay: index * 0.05 }}
                                            whileHover={{ scale: 1.05 }}
                                            whileTap={{ scale: 0.95 }}
                                        >
                                            {subject.name}
                                        </motion.button>
                                    ))}
                                </div>
                            </motion.div>

                            {/* –°–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤ */}
                            <motion.div
                                className="tests-grid"
                                variants={itemAnimation}
                            >
                                {filteredTests.length > 0 ? (
                                    filteredTests.map((test, index) => (
                                        <motion.div
                                            key={test.id}
                                            className={`task-card ${test.completedQuestions === test.totalQuestions ? 'success' : test.completedQuestions > 0 ? 'progress' : ''}`}
                                            onClick={() => handleTestClick(test.id)}
                                            initial={{ opacity: 0, y: 20 }}
                                            animate={{ opacity: 1, y: 0 }}
                                            transition={{ delay: index * 0.1 }}
                                            whileHover={{ scale: 1.02 }}
                                            whileTap={{ scale: 0.98 }}
                                        >
                                            <div className="task-header">
                                                <h3 className="task-title">{test.title}</h3>
                                                <ChevronRight className="tool-arrow" />
                                            </div>

                                            <div className="task-meta">
                                                <span
                                                    className="task-subject"
                                                    style={{ backgroundColor: getSubjectColor(test.subject) }}
                                                >
                                                    {test.subject}
                                                </span>
                                                <span className="task-date">
                                                    {new Date().toLocaleDateString('ru-RU', {
                                                        day: '2-digit',
                                                        month: '2-digit',
                                                        year: '2-digit'
                                                    })}
                                                </span>
                                            </div>

                                            <div className="task-progress">
                                                <div className="progress-bar">
                                                    <div
                                                        className="progress-bar-fill"
                                                        style={{
                                                            width: `${(test.completedQuestions / test.totalQuestions) * 100}%`
                                                        }}
                                                    />
                                                </div>
                                                <span className="progress-text">
                                                    {test.completedQuestions}/{test.totalQuestions}
                                                </span>
                                            </div>
                                        </motion.div>
                                    ))
                                ) : (
                                    <motion.div
                                        className="empty-state"
                                        initial={{ opacity: 0 }}
                                        animate={{ opacity: 1 }}
                                    >
                                        <p>–ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –ø—Ä–µ–¥–º–µ—Ç—É</p>
                                    </motion.div>
                                )}
                            </motion.div>
                        </motion.div>
                    )}
                </motion.div>
            </div>
        </motion.div>
    );
};

export default SchoolPage;